# Расчётная работа по ППОИС  
## Вариант 6 — Анализ отказоустойчивости сетевой топологии (OSTIS / sc-machine)



## Аннотация

В работе реализован фрагмент базы знаний и программный агент, выполняющий анализ сетевой топологии, представленной как **неориентированный граф**. Агент вычисляет показатели отказоустойчивости (вершинная и рёберная связность), а также находит критические элементы сети (точки сочленения и мосты). Корректность реализации подтверждена автоматическими тестами.

---

## 1. Постановка задачи (вариант 6)

Для заданной топологии сети требуется:

1. Построить **неориентированный граф** сетевой топологии с типами устройств.  
2. Определить **вершинную связность** сети (минимальное число узлов, удаление которых нарушает связность сети).  
3. Определить **рёберную связность** (минимальное число каналов связи, удаление которых разделяет сеть).  
4. Выделить **точки сочленения** (узлы, отказ которых разделяет сеть на компоненты связности).  
5. Найти **мостовые соединения** (критические линии связи).  

---

## 2. Представление топологии в базе знаний

### 2.1. Основные элементы

Топология задаётся в базе знаний (SCs) как структура, содержащая:

- **устройства** (вершины графа) — рабочие станции, коммутаторы, маршрутизаторы, шлюзы и т.д.;  
- **физические соединения** между устройствами (рёбра графа) — задаются отношением `nrel_physical_connection`.

### 2.2. Неориентированный граф

Физическое соединение интерпретируется агентом как **неориентированное ребро**: при построении списка смежности связь добавляется **в обе стороны**.

---

## 3. Агент анализа отказоустойчивости

Агент запускается по action-классу `action_analyze_network_resilience` и выполняет анализ переданной топологии.

**Вход:** аргумент `rrel_1` — структура топологии (например, `corporate_network_topology`).  
**Выход:** структура результата, содержащая:

- `nrel_vertex_connectivity` — вершинная связность (κ);  
- `nrel_edge_connectivity` — рёберная связность (λ);  
- `nrel_articulation_points` — множество точек сочленения;  
- `nrel_bridge_connections` — множество мостов.

---

## 4. Применяемые алгоритмы

### 4.1. Точки сочленения и мосты

Для поиска точек сочленения и мостов используется DFS-алгоритм (Tarjan), основанный на вычислении значений `tin[]` и `low[]`.

### 4.2. Рёберная связность (λ)

Рёберная связность вычисляется как минимальный s–t разрез по всем парам вершин. Реализация выполнена через алгоритм максимального потока (Dinic) при единичных пропускных способностях рёбер.

### 4.3. Вершинная связность (κ)

Вершинная связность вычисляется через преобразование графа **разбиением вершины** (node-splitting) и последующим вычислением максимального потока (Dinic).

---

## 5. Тестирование

Корректность реализации подтверждена unit-тестами, проверяющими пункты 2–5 задания на эталонных графах.

### 5.1. Набор тестов

1. **Cycle (цикл)** — нет мостов и точек сочленения, κ=2, λ=2  
2. **Chain (цепочка)** — мосты: все рёбра, точки сочленения: внутренние вершины, κ=1, λ=1  
3. **Star (звезда)** — точка сочленения: центр, мосты: все рёбра, κ=1, λ=1  
4. **Bowtie (две петли через общую вершину)** — точка сочленения: общая вершина, мостов нет, κ=1, λ=2  

### 5.2. Иллюстрации тестовых графов

**Cycle:**  
```
0 — 1
|   |
3 — 2
```

**Chain:**  
```
0 — 1 — 2 — 3 — 4
```

**Star:**  
```
    1
    |
2 — 0 — 3
    |
    4
```

**Bowtie:**  
```
  1
 / \
2 — 0 — 3
     \ /
      4
```

---

## 6. Инструкция по сборке и запуску

> В командах ниже используется условное обозначение корня проекта: **`<PROJECT_ROOT>`**.  
> При необходимости замените на свой путь. В отчёте не приводятся персональные каталоги.

### 6.1. Сборка базы знаний
```bash
cd <PROJECT_ROOT>
./scripts/start.sh build_kb
```


### 6.2. Сборка C++-модуля
```bash
cd <PROJECT_ROOT>
cmake --preset release-conan
cmake --build --preset release
```



### 6.3. Сборка и запуск тестов



Вариант (одной строкой — удобно для демонстрации, часто видно зелёные `PASSED`):
```bash
cd <PROJECT_ROOT>
cmake --preset release-with-tests-conan && cmake --build build/Release && ctest --test-dir build/Release --output-on-failure -V
```







### 6.4. Запуск web-интерфейса 
```bash
cd <PROJECT_ROOT>
./scripts/start.sh web
```
Открыть в браузере: `http://localhost:8000`


## 7. Заключение

Выполнены требования варианта 6: топология представлена как неориентированный граф, реализован агент анализа отказоустойчивости, вычисляющий κ, λ, точки сочленения и мосты. Корректность результатов подтверждена автоматическими тестами.
